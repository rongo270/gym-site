{"ast":null,"code":"var _class;\nimport { ProductsService } from 'src/Service/products/products.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/Service/products/products.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../../../Service/cart/cart.service\";\nimport * as i4 from \"../../../Service/Users/users.service\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"../../../Pipes/safe-resource-url.pipe\";\nfunction ProductUserComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 2)(1, \"div\", 3);\n    i0.ɵɵelement(2, \"img\", 4);\n    i0.ɵɵpipe(3, \"safeResourceUrl\");\n    i0.ɵɵelementStart(4, \"h4\", 5);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 6)(7, \"span\", 7);\n    i0.ɵɵtext(8, \"Details:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"span\", 8);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(11, \"div\", 9)(12, \"div\", 6)(13, \"span\", 7);\n    i0.ɵɵtext(14, \"Price:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"span\", 8);\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"span\", 7);\n    i0.ɵɵtext(18, \"Available:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"span\", 8);\n    i0.ɵɵtext(20);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(21, \"div\", 10)(22, \"button\", 11);\n    i0.ɵɵlistener(\"click\", function ProductUserComponent_div_1_Template_button_click_22_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const p_r1 = restoredCtx.$implicit;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.addToCart(p_r1));\n    });\n    i0.ɵɵtext(23, \"Add To Cart\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const p_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"src\", i0.ɵɵpipeBind1(3, 5, p_r1.image), i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Name: \", p_r1.name, \"\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(p_r1.read);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\"\", p_r1.price, \"$\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(p_r1.available);\n  }\n}\nexport class ProductUserComponent {\n  constructor(productsService, router, cartService, userService) {\n    this.productsService = productsService;\n    this.router = router;\n    this.cartService = cartService;\n    this.userService = userService;\n    this.products = [];\n    this.cartItems = [];\n    //struct in the start\n    this.addCartRequest = {\n      CartId: '',\n      userId: '',\n      ProductId: '',\n      Quantity: 1\n    };\n  }\n  ngOnInit() {\n    this.productsService.getAllProducts().subscribe({\n      next: products => {\n        console.log(products);\n        this.products = products;\n        this.loadProductImages();\n      },\n      error: respose => console.log(respose)\n    });\n    this.cartService.getCartItems().subscribe(items => {\n      this.cartItems = items;\n    });\n  }\n  loadProductImages() {\n    console.log(\"loadproduct\");\n    this.products.forEach(product => {\n      //console.log(product.id);\n      this.productsService.GetImage(product.id).subscribe({\n        next: ImageData => product.image = URL.createObjectURL(ImageData),\n        error: error => console.error(error)\n      });\n      //console.log(product.image);\n    });\n  }\n\n  addToCart(item) {\n    if (!this.userService.LogStatus) {\n      this.cartService.addToCart(item);\n    } else {\n      this.addCartItem(item);\n    }\n    item.available = item.available - 1;\n    this.productsService.updateProduct(item.id, item).subscribe({\n      next: product => {\n        this.router.navigate(['products']); //routet back to products page\n      },\n\n      error: respose => {\n        console.log(respose);\n      }\n    });\n  }\n  addCartItem(item) {\n    this.addCartRequest.CartId = '00000000-0000-0000-0000-000000000000'; //needs a diffult id\n    this.addCartRequest.ProductId = item.id;\n    this.addCartRequest.userId = this.userService.getIdfromToken();\n    this.cartService.addToCartUser(this.addCartRequest).subscribe({\n      next: response => {\n        console.log(\"Item added to cart successfully\");\n      },\n      error: error => {\n        console.log(\"Problem adding to cart: \", error);\n      }\n    });\n  }\n}\n_class = ProductUserComponent;\n_class.ɵfac = function ProductUserComponent_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i1.ProductsService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.CartService), i0.ɵɵdirectiveInject(i4.UsersService));\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"app-product-user\"]],\n  features: [i0.ɵɵProvidersFeature([ProductsService])],\n  decls: 2,\n  vars: 1,\n  consts: [[1, \"product-grid\"], [\"class\", \"product-item\", 4, \"ngFor\", \"ngForOf\"], [1, \"product-item\"], [1, \"product-image\"], [\"alt\", \"no image\", 1, \"product.image\", 3, \"src\"], [1, \"product-name\"], [1, \"product-info\"], [1, \"label\"], [1, \"value\"], [1, \"product-details\"], [1, \"button-group\"], [1, \"btn\", \"btn-success\", 3, \"click\"]],\n  template: function ProductUserComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵtemplate(1, ProductUserComponent_div_1_Template, 24, 7, \"div\", 1);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.products);\n    }\n  },\n  dependencies: [i5.NgForOf, i6.SafeResourceUrlPipe],\n  styles: [\".product-grid[_ngcontent-%COMP%] {\\n  display: grid;\\n  grid-template-columns: repeat(3, 1fr); \\n\\n  grid-gap: 20px; \\n\\n  margin: 20px 0; \\n\\n}\\n\\n.product-item[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n  padding: 20px;\\n  border: 1px solid #ccc;\\n  border-radius: 5px;\\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\\n  background-color: #fff;\\n  text-align: center;\\n}\\n.product-item[_ngcontent-%COMP%]   .product-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\\n  max-width: 100%;\\n  max-height: 100px;\\n}\\n.product-item[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%] {\\n  margin-top: 10px;\\n  font-size: 16px;\\n}\\n.product-item[_ngcontent-%COMP%]   .product-details[_ngcontent-%COMP%] {\\n  margin-top: auto; \\n\\n  margin-bottom: 10px;\\n}\\n.product-item[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: space-between;\\n  margin-bottom: 5px;\\n}\\n.product-item[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%] {\\n  font-weight: bold;\\n  margin-right: 5px;\\n}\\n.product-item[_ngcontent-%COMP%]   .product-info[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%] {\\n  flex: 1;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n}\\n.product-item[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%] {\\n  margin-top: 10px;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9wYWdlcy9wcm9kdWN0cy9wcm9kdWN0LXVzZXIvcHJvZHVjdC11c2VyLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsYUFBQTtFQUNBLHFDQUFBLEVBQUEsMEJBQUE7RUFDQSxjQUFBLEVBQUEsaUNBQUE7RUFDQSxjQUFBLEVBQUEsbUVBQUE7QUFDRjs7QUFFQTtFQUNFLGFBQUE7RUFDQSxzQkFBQTtFQUNBLGFBQUE7RUFDQSxzQkFBQTtFQUNBLGtCQUFBO0VBQ0Esd0NBQUE7RUFDQSxzQkFBQTtFQUNBLGtCQUFBO0FBQ0Y7QUFDRTtFQUNFLGVBQUE7RUFDQSxpQkFBQTtBQUNKO0FBRUU7RUFDRSxnQkFBQTtFQUNBLGVBQUE7QUFBSjtBQUdFO0VBQ0UsZ0JBQUEsRUFBQSwyQ0FBQTtFQUNBLG1CQUFBO0FBREo7QUFJRTtFQUNFLGFBQUE7RUFDQSw4QkFBQTtFQUNBLGtCQUFBO0FBRko7QUFJSTtFQUNFLGlCQUFBO0VBQ0EsaUJBQUE7QUFGTjtBQUtJO0VBQ0UsT0FBQTtFQUNBLGdCQUFBO0VBQ0EsdUJBQUE7QUFITjtBQU9FO0VBQ0UsZ0JBQUE7QUFMSiIsInNvdXJjZXNDb250ZW50IjpbIi5wcm9kdWN0LWdyaWQge1xyXG4gIGRpc3BsYXk6IGdyaWQ7XHJcbiAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoMywgMWZyKTsgLyogVGhyZWUgY29sdW1ucyBwZXIgcm93ICovXHJcbiAgZ3JpZC1nYXA6IDIwcHg7IC8qIEFkanVzdCB0aGUgZ2FwIGJldHdlZW4gaXRlbXMgKi9cclxuICBtYXJnaW46IDIwcHggMDsgLyogQWRqdXN0IG1hcmdpbiB0byBjcmVhdGUgc3BhY2UgYWJvdmUgYW5kIGJlbG93IHRoZSBwcm9kdWN0IGdyaWQgKi9cclxufVxyXG5cclxuLnByb2R1Y3QtaXRlbSB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gIHBhZGRpbmc6IDIwcHg7XHJcbiAgYm9yZGVyOiAxcHggc29saWQgI2NjYztcclxuICBib3JkZXItcmFkaXVzOiA1cHg7XHJcbiAgYm94LXNoYWRvdzogMCAycHggNHB4IHJnYmEoMCwgMCwgMCwgMC4xKTtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xyXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcclxuXHJcbiAgLnByb2R1Y3QtaW1hZ2UgaW1nIHtcclxuICAgIG1heC13aWR0aDogMTAwJTtcclxuICAgIG1heC1oZWlnaHQ6IDEwMHB4O1xyXG4gIH1cclxuXHJcbiAgLnByb2R1Y3QtbmFtZSB7XHJcbiAgICBtYXJnaW4tdG9wOiAxMHB4O1xyXG4gICAgZm9udC1zaXplOiAxNnB4O1xyXG4gIH1cclxuXHJcbiAgLnByb2R1Y3QtZGV0YWlscyB7XHJcbiAgICBtYXJnaW4tdG9wOiBhdXRvOyAvKiBQdXNoIHRoZSBkZXRhaWxzIHNlY3Rpb24gdG8gdGhlIGJvdHRvbSAqL1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMTBweDtcclxuICB9XHJcblxyXG4gIC5wcm9kdWN0LWluZm8ge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcclxuICAgIG1hcmdpbi1ib3R0b206IDVweDtcclxuXHJcbiAgICAubGFiZWwge1xyXG4gICAgICBmb250LXdlaWdodDogYm9sZDtcclxuICAgICAgbWFyZ2luLXJpZ2h0OiA1cHg7XHJcbiAgICB9XHJcblxyXG4gICAgLnZhbHVlIHtcclxuICAgICAgZmxleDogMTtcclxuICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICAgICAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAuYnV0dG9uLWdyb3VwIHtcclxuICAgIG1hcmdpbi10b3A6IDEwcHg7XHJcbiAgfVxyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"names":["ProductsService","i0","ɵɵelementStart","ɵɵelement","ɵɵtext","ɵɵelementEnd","ɵɵlistener","ProductUserComponent_div_1_Template_button_click_22_listener","restoredCtx","ɵɵrestoreView","_r4","p_r1","$implicit","ctx_r3","ɵɵnextContext","ɵɵresetView","addToCart","ɵɵadvance","ɵɵproperty","ɵɵpipeBind1","image","ɵɵsanitizeUrl","ɵɵtextInterpolate1","name","ɵɵtextInterpolate","read","price","available","ProductUserComponent","constructor","productsService","router","cartService","userService","products","cartItems","addCartRequest","CartId","userId","ProductId","Quantity","ngOnInit","getAllProducts","subscribe","next","console","log","loadProductImages","error","respose","getCartItems","items","forEach","product","GetImage","id","ImageData","URL","createObjectURL","item","LogStatus","addCartItem","updateProduct","navigate","getIdfromToken","addToCartUser","response","ɵɵdirectiveInject","i1","i2","Router","i3","CartService","i4","UsersService","selectors","features","ɵɵProvidersFeature","decls","vars","consts","template","ProductUserComponent_Template","rf","ctx","ɵɵtemplate","ProductUserComponent_div_1_Template"],"sources":["C:\\angular\\gym-site\\src\\pages\\products\\product-user\\product-user.component.ts","C:\\angular\\gym-site\\src\\pages\\products\\product-user\\product-user.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ProductsService } from 'src/Service/products/products.service'\nimport { product } from 'src/models/product.model'\nimport { Router, ActivatedRoute } from '@angular/router'\nimport { CartService } from '../../../Service/cart/cart.service';\r\nimport { UsersService } from '../../../Service/Users/users.service';\r\nimport { CartItem } from '../../../models/CartItem.model';\r\n\n@Component({\n  selector: 'app-product-user',\n  templateUrl: './product-user.component.html',\n  styleUrls: ['./product-user.component.scss'],\n  providers: [ProductsService]\n})\nexport class ProductUserComponent {\n  products: product[] = [];\n  cartItems: product[] = [];\n\n  constructor(private productsService: ProductsService,\n    private router: Router,\n    private cartService: CartService,\n    private userService: UsersService\n  ) { }\n\n  //struct in the start\n  addCartRequest: CartItem = {\n    CartId: '',\r\n    userId: '',\r\n    ProductId: '',\r\n    Quantity: 1\r\n  }\n\n  ngOnInit() {\n    this.productsService.getAllProducts().subscribe({//get all product int array in put it in products\n      next: (products) => {\n        console.log(products);\n        this.products = products;\n        this.loadProductImages();\n      },\n      error: (respose) =>\n        console.log(respose),\n    });\n    this.cartService.getCartItems().subscribe((items) => {\r\n      this.cartItems = items;\r\n    });\n  }\n\n\n  private loadProductImages(): void {\n    console.log(\"loadproduct\")\n    this.products.forEach((product) => {\n      //console.log(product.id);\n      this.productsService.GetImage(product.id).subscribe({\n        next: (ImageData) => (product.image = URL.createObjectURL(ImageData)),\n        error: (error) => console.error(error),\n      })\n      //console.log(product.image);\n    })\n  }\n  addToCart(item: product): void {\r\n    if (!this.userService.LogStatus) {\r\n      this.cartService.addToCart(item);\r\n    }\r\n    else {\r\n      this.addCartItem(item);\r\n    }\r\n    item.available = item.available - 1;\r\n    this.productsService.updateProduct(item.id, item).subscribe({\r\n      next: (product) => {\r\n        this.router.navigate(['products']);//routet back to products page\r\n      },\r\n      error: (respose) => {\n        console.log(respose);\n      }\r\n    })\r\n  }\r\n\r\n\r\n\r\n\r\n  addCartItem(item: product) {//add product\r\n    this.addCartRequest.CartId = '00000000-0000-0000-0000-000000000000';//needs a diffult id\r\n    this.addCartRequest.ProductId = item.id;\r\n    this.addCartRequest.userId = <any>this.userService.getIdfromToken();\r\n    this.cartService.addToCartUser(this.addCartRequest).subscribe({\r\n      next: (response) => {//after go to product page\r\n        console.log(\"Item added to cart successfully\");\r\n      },\r\n      error: (error) => {\n        console.log(\"Problem adding to cart: \", error);\n      }\r\n    });\r\n  }\r\n\r\n\r\n}\n","<div class=\"product-grid\">\r\n  <div class=\"product-item\" *ngFor=\"let p of products; let i = index\">\r\n    <div class=\"product-image\">\r\n      <img [src]=\"p.image | safeResourceUrl\" class=\"product.image\" alt=\"no image\" />\r\n      <h4 class=\"product-name\">Name: {{ p.name }}</h4>\r\n      <div class=\"product-info\">\r\n        <span class=\"label\">Details:</span>\r\n        <span class=\"value\">{{ p.read }}</span>\r\n      </div>\r\n    </div>\r\n    <div class=\"product-details\">\r\n      <div class=\"product-info\">\r\n        <span class=\"label\">Price:</span>\r\n        <span class=\"value\">{{ p.price }}$</span>\r\n        <span class=\"label\">Available:</span>\r\n        <span class=\"value\">{{ p.available }}</span>\r\n      </div>\r\n    </div>\r\n    <div class=\"button-group\">\r\n      <button (click)=\"addToCart(p)\" class=\"btn btn-success\">Add To Cart</button>\r\n    </div>\r\n  </div>\r\n</div>\r\n"],"mappings":";AACA,SAASA,eAAe,QAAQ,uCAAuC;;;;;;;;;;;ICArEC,EAAA,CAAAC,cAAA,aAAoE;IAEhED,EAAA,CAAAE,SAAA,aAA8E;;IAC9EF,EAAA,CAAAC,cAAA,YAAyB;IAAAD,EAAA,CAAAG,MAAA,GAAkB;IAAAH,EAAA,CAAAI,YAAA,EAAK;IAChDJ,EAAA,CAAAC,cAAA,aAA0B;IACJD,EAAA,CAAAG,MAAA,eAAQ;IAAAH,EAAA,CAAAI,YAAA,EAAO;IACnCJ,EAAA,CAAAC,cAAA,cAAoB;IAAAD,EAAA,CAAAG,MAAA,IAAY;IAAAH,EAAA,CAAAI,YAAA,EAAO;IAG3CJ,EAAA,CAAAC,cAAA,cAA6B;IAELD,EAAA,CAAAG,MAAA,cAAM;IAAAH,EAAA,CAAAI,YAAA,EAAO;IACjCJ,EAAA,CAAAC,cAAA,eAAoB;IAAAD,EAAA,CAAAG,MAAA,IAAc;IAAAH,EAAA,CAAAI,YAAA,EAAO;IACzCJ,EAAA,CAAAC,cAAA,eAAoB;IAAAD,EAAA,CAAAG,MAAA,kBAAU;IAAAH,EAAA,CAAAI,YAAA,EAAO;IACrCJ,EAAA,CAAAC,cAAA,eAAoB;IAAAD,EAAA,CAAAG,MAAA,IAAiB;IAAAH,EAAA,CAAAI,YAAA,EAAO;IAGhDJ,EAAA,CAAAC,cAAA,eAA0B;IAChBD,EAAA,CAAAK,UAAA,mBAAAC,6DAAA;MAAA,MAAAC,WAAA,GAAAP,EAAA,CAAAQ,aAAA,CAAAC,GAAA;MAAA,MAAAC,IAAA,GAAAH,WAAA,CAAAI,SAAA;MAAA,MAAAC,MAAA,GAAAZ,EAAA,CAAAa,aAAA;MAAA,OAASb,EAAA,CAAAc,WAAA,CAAAF,MAAA,CAAAG,SAAA,CAAAL,IAAA,CAAY;IAAA,EAAC;IAAyBV,EAAA,CAAAG,MAAA,mBAAW;IAAAH,EAAA,CAAAI,YAAA,EAAS;;;;IAhBtEJ,EAAA,CAAAgB,SAAA,GAAiC;IAAjChB,EAAA,CAAAiB,UAAA,QAAAjB,EAAA,CAAAkB,WAAA,OAAAR,IAAA,CAAAS,KAAA,GAAAnB,EAAA,CAAAoB,aAAA,CAAiC;IACbpB,EAAA,CAAAgB,SAAA,GAAkB;IAAlBhB,EAAA,CAAAqB,kBAAA,WAAAX,IAAA,CAAAY,IAAA,KAAkB;IAGrBtB,EAAA,CAAAgB,SAAA,GAAY;IAAZhB,EAAA,CAAAuB,iBAAA,CAAAb,IAAA,CAAAc,IAAA,CAAY;IAMZxB,EAAA,CAAAgB,SAAA,GAAc;IAAdhB,EAAA,CAAAqB,kBAAA,KAAAX,IAAA,CAAAe,KAAA,MAAc;IAEdzB,EAAA,CAAAgB,SAAA,GAAiB;IAAjBhB,EAAA,CAAAuB,iBAAA,CAAAb,IAAA,CAAAgB,SAAA,CAAiB;;;ADD7C,OAAM,MAAOC,oBAAoB;EAI/BC,YAAoBC,eAAgC,EAC1CC,MAAc,EACdC,WAAwB,EACxBC,WAAyB;IAHf,KAAAH,eAAe,GAAfA,eAAe;IACzB,KAAAC,MAAM,GAANA,MAAM;IACN,KAAAC,WAAW,GAAXA,WAAW;IACX,KAAAC,WAAW,GAAXA,WAAW;IANrB,KAAAC,QAAQ,GAAc,EAAE;IACxB,KAAAC,SAAS,GAAc,EAAE;IAQzB;IACA,KAAAC,cAAc,GAAa;MACzBC,MAAM,EAAE,EAAE;MACVC,MAAM,EAAE,EAAE;MACVC,SAAS,EAAE,EAAE;MACbC,QAAQ,EAAE;KACX;EARG;EAUJC,QAAQA,CAAA;IACN,IAAI,CAACX,eAAe,CAACY,cAAc,EAAE,CAACC,SAAS,CAAC;MAC9CC,IAAI,EAAGV,QAAQ,IAAI;QACjBW,OAAO,CAACC,GAAG,CAACZ,QAAQ,CAAC;QACrB,IAAI,CAACA,QAAQ,GAAGA,QAAQ;QACxB,IAAI,CAACa,iBAAiB,EAAE;MAC1B,CAAC;MACDC,KAAK,EAAGC,OAAO,IACbJ,OAAO,CAACC,GAAG,CAACG,OAAO;KACtB,CAAC;IACF,IAAI,CAACjB,WAAW,CAACkB,YAAY,EAAE,CAACP,SAAS,CAAEQ,KAAK,IAAI;MAClD,IAAI,CAAChB,SAAS,GAAGgB,KAAK;IACxB,CAAC,CAAC;EACJ;EAGQJ,iBAAiBA,CAAA;IACvBF,OAAO,CAACC,GAAG,CAAC,aAAa,CAAC;IAC1B,IAAI,CAACZ,QAAQ,CAACkB,OAAO,CAAEC,OAAO,IAAI;MAChC;MACA,IAAI,CAACvB,eAAe,CAACwB,QAAQ,CAACD,OAAO,CAACE,EAAE,CAAC,CAACZ,SAAS,CAAC;QAClDC,IAAI,EAAGY,SAAS,IAAMH,OAAO,CAACjC,KAAK,GAAGqC,GAAG,CAACC,eAAe,CAACF,SAAS,CAAE;QACrER,KAAK,EAAGA,KAAK,IAAKH,OAAO,CAACG,KAAK,CAACA,KAAK;OACtC,CAAC;MACF;IACF,CAAC,CAAC;EACJ;;EACAhC,SAASA,CAAC2C,IAAa;IACrB,IAAI,CAAC,IAAI,CAAC1B,WAAW,CAAC2B,SAAS,EAAE;MAC/B,IAAI,CAAC5B,WAAW,CAAChB,SAAS,CAAC2C,IAAI,CAAC;KACjC,MACI;MACH,IAAI,CAACE,WAAW,CAACF,IAAI,CAAC;;IAExBA,IAAI,CAAChC,SAAS,GAAGgC,IAAI,CAAChC,SAAS,GAAG,CAAC;IACnC,IAAI,CAACG,eAAe,CAACgC,aAAa,CAACH,IAAI,CAACJ,EAAE,EAAEI,IAAI,CAAC,CAAChB,SAAS,CAAC;MAC1DC,IAAI,EAAGS,OAAO,IAAI;QAChB,IAAI,CAACtB,MAAM,CAACgC,QAAQ,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC;MACrC,CAAC;;MACDf,KAAK,EAAGC,OAAO,IAAI;QACjBJ,OAAO,CAACC,GAAG,CAACG,OAAO,CAAC;MACtB;KACD,CAAC;EACJ;EAKAY,WAAWA,CAACF,IAAa;IACvB,IAAI,CAACvB,cAAc,CAACC,MAAM,GAAG,sCAAsC,CAAC;IACpE,IAAI,CAACD,cAAc,CAACG,SAAS,GAAGoB,IAAI,CAACJ,EAAE;IACvC,IAAI,CAACnB,cAAc,CAACE,MAAM,GAAQ,IAAI,CAACL,WAAW,CAAC+B,cAAc,EAAE;IACnE,IAAI,CAAChC,WAAW,CAACiC,aAAa,CAAC,IAAI,CAAC7B,cAAc,CAAC,CAACO,SAAS,CAAC;MAC5DC,IAAI,EAAGsB,QAAQ,IAAI;QACjBrB,OAAO,CAACC,GAAG,CAAC,iCAAiC,CAAC;MAChD,CAAC;MACDE,KAAK,EAAGA,KAAK,IAAI;QACfH,OAAO,CAACC,GAAG,CAAC,0BAA0B,EAAEE,KAAK,CAAC;MAChD;KACD,CAAC;EACJ;;SA9EWpB,oBAAoB;;mBAApBA,MAAoB,EAAA3B,EAAA,CAAAkE,iBAAA,CAAAC,EAAA,CAAApE,eAAA,GAAAC,EAAA,CAAAkE,iBAAA,CAAAE,EAAA,CAAAC,MAAA,GAAArE,EAAA,CAAAkE,iBAAA,CAAAI,EAAA,CAAAC,WAAA,GAAAvE,EAAA,CAAAkE,iBAAA,CAAAM,EAAA,CAAAC,YAAA;AAAA;;QAApB9C,MAAoB;EAAA+C,SAAA;EAAAC,QAAA,GAAA3E,EAAA,CAAA4E,kBAAA,CAFpB,CAAC7E,eAAe,CAAC;EAAA8E,KAAA;EAAAC,IAAA;EAAAC,MAAA;EAAAC,QAAA,WAAAC,8BAAAC,EAAA,EAAAC,GAAA;IAAA,IAAAD,EAAA;MCZ9BlF,EAAA,CAAAC,cAAA,aAA0B;MACxBD,EAAA,CAAAoF,UAAA,IAAAC,mCAAA,kBAoBM;MACRrF,EAAA,CAAAI,YAAA,EAAM;;;MArBoCJ,EAAA,CAAAgB,SAAA,GAAa;MAAbhB,EAAA,CAAAiB,UAAA,YAAAkE,GAAA,CAAAlD,QAAA,CAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}