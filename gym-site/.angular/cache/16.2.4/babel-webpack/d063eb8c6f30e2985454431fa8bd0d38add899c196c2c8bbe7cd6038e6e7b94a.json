{"ast":null,"code":"var _class;\nimport { EventEmitter } from '@angular/core';\nimport { HttpEventType } from '@angular/common/http';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"../../Service/products/products.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nfunction UploadImageComponent_span_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 7);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.progress, \"% \");\n  }\n}\nfunction UploadImageComponent_span_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 7);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.message, \" \");\n  }\n}\nexport class UploadImageComponent {\n  constructor(http, productService, router) {\n    this.http = http;\n    this.productService = productService;\n    this.router = router;\n    this.onUploadFinished = new EventEmitter();\n    this.productName = '';\n    this.uploadFile = (files, name) => {\n      if (files.length === 0) {\n        return;\n      }\n      let fileToUpload = files[0];\n      const formData = new FormData();\n      formData.append('file', fileToUpload, name + '.jpg');\n      this.productService.PostImage(formData).subscribe({\n        next: event => {\n          if (event.type === HttpEventType.UploadProgress) this.progress = Math.round(100 * event.loaded / event.total);else if (event.type === HttpEventType.Response) {\n            this.message = 'Upload success.';\n            this.onUploadFinished.emit(event.body);\n            this.router.navigate(['products-admin']);\n          }\n        },\n        error: err => console.log(err)\n      });\n    };\n  }\n  ngOnInit() {}\n}\n_class = UploadImageComponent;\n_class.ɵfac = function UploadImageComponent_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.ProductsService), i0.ɵɵdirectiveInject(i3.Router));\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"app-upload-image\"]],\n  inputs: {\n    productName: \"productName\"\n  },\n  outputs: {\n    onUploadFinished: \"onUploadFinished\"\n  },\n  decls: 11,\n  vars: 2,\n  consts: [[1, \"mt-5\"], [1, \"continer\"], [\"type\", \"file\", \"placeholder\", \"Choose file\", 2, \"display\", \"none\", 3, \"change\"], [\"file\", \"\"], [\"type\", \"button\", 1, \"btn\", \"btn-success\", 3, \"click\"], [1, \"col-md-4\"], [\"class\", \"upload\", 4, \"ngIf\"], [1, \"upload\"]],\n  template: function UploadImageComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r3 = i0.ɵɵgetCurrentView();\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h3\");\n      i0.ɵɵtext(3, \"photo upload\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"input\", 2, 3);\n      i0.ɵɵlistener(\"change\", function UploadImageComponent_Template_input_change_4_listener() {\n        i0.ɵɵrestoreView(_r3);\n        const _r0 = i0.ɵɵreference(5);\n        return i0.ɵɵresetView(ctx.uploadFile(_r0.files, ctx.productName));\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"button\", 4);\n      i0.ɵɵlistener(\"click\", function UploadImageComponent_Template_button_click_6_listener() {\n        i0.ɵɵrestoreView(_r3);\n        const _r0 = i0.ɵɵreference(5);\n        return i0.ɵɵresetView(_r0.click());\n      });\n      i0.ɵɵtext(7, \"Image\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(8, \"div\", 5);\n      i0.ɵɵtemplate(9, UploadImageComponent_span_9_Template, 2, 1, \"span\", 6);\n      i0.ɵɵtemplate(10, UploadImageComponent_span_10_Template, 2, 1, \"span\", 6);\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(9);\n      i0.ɵɵproperty(\"ngIf\", ctx.progress > 0);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.message);\n    }\n  },\n  dependencies: [i4.NgIf],\n  styles: [\"\\n\\n.continer[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  justify-content: center;\\n  text-align: center;\\n  padding: 20px;\\n  border: 1px solid #ccc;\\n  border-radius: 5px;\\n}\\n\\nh3[_ngcontent-%COMP%] {\\n  margin-bottom: 20px;\\n}\\n\\ninput[type=file][_ngcontent-%COMP%] {\\n  display: none;\\n}\\n\\nbutton[_ngcontent-%COMP%] {\\n  margin-top: 10px;\\n  padding: 10px 20px;\\n  background-color: #007bff;\\n  color: #fff;\\n  border: none;\\n  border-radius: 5px;\\n  cursor: pointer;\\n}\\n\\nbutton[_ngcontent-%COMP%]:hover {\\n  background-color: #0056b3;\\n}\\n\\n.col-md-4[_ngcontent-%COMP%] {\\n  margin-top: 20px;\\n}\\n\\n.upload[_ngcontent-%COMP%] {\\n  display: block;\\n  font-size: 18px;\\n  color: #333;\\n  margin-top: 10px;\\n  font-weight: bold;\\n}\\n\\n\\n\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9jb21wb25lbnQvdXBsb2FkLWltYWdlL3VwbG9hZC1pbWFnZS5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSw0REFBQTtBQUVBO0VBQ0UsYUFBQTtFQUNBLHNCQUFBO0VBQ0EsbUJBQUE7RUFDQSx1QkFBQTtFQUNBLGtCQUFBO0VBQ0EsYUFBQTtFQUNBLHNCQUFBO0VBQ0Esa0JBQUE7QUFBRjs7QUFHQTtFQUNFLG1CQUFBO0FBQUY7O0FBR0E7RUFDRSxhQUFBO0FBQUY7O0FBR0E7RUFDRSxnQkFBQTtFQUNBLGtCQUFBO0VBQ0EseUJBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtFQUNBLGtCQUFBO0VBQ0EsZUFBQTtBQUFGOztBQUdBO0VBQ0UseUJBQUE7QUFBRjs7QUFHQTtFQUNFLGdCQUFBO0FBQUY7O0FBR0E7RUFDRSxjQUFBO0VBQ0EsZUFBQTtFQUNBLFdBQUE7RUFDQSxnQkFBQTtFQUNBLGlCQUFBO0FBQUY7O0FBR0Esd0NBQUEiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBBc3N1bWluZyB5b3UgaGF2ZSBhIENTUyBmaWxlIHdoZXJlIHlvdSBpbXBvcnQgdGhpcyBTQ1NTICovXHJcblxyXG4uY29udGluZXIge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICBwYWRkaW5nOiAyMHB4O1xyXG4gIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7XHJcbiAgYm9yZGVyLXJhZGl1czogNXB4O1xyXG59XHJcblxyXG5oMyB7XHJcbiAgbWFyZ2luLWJvdHRvbTogMjBweDtcclxufVxyXG5cclxuaW5wdXRbdHlwZT1cImZpbGVcIl0ge1xyXG4gIGRpc3BsYXk6IG5vbmU7XHJcbn1cclxuXHJcbmJ1dHRvbiB7XHJcbiAgbWFyZ2luLXRvcDogMTBweDtcclxuICBwYWRkaW5nOiAxMHB4IDIwcHg7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogIzAwN2JmZjtcclxuICBjb2xvcjogI2ZmZjtcclxuICBib3JkZXI6IG5vbmU7XHJcbiAgYm9yZGVyLXJhZGl1czogNXB4O1xyXG4gIGN1cnNvcjogcG9pbnRlcjtcclxufVxyXG5cclxuYnV0dG9uOmhvdmVyIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDA1NmIzO1xyXG59XHJcblxyXG4uY29sLW1kLTQge1xyXG4gIG1hcmdpbi10b3A6IDIwcHg7XHJcbn1cclxuXHJcbi51cGxvYWQge1xyXG4gIGRpc3BsYXk6IGJsb2NrO1xyXG4gIGZvbnQtc2l6ZTogMThweDtcclxuICBjb2xvcjogIzMzMztcclxuICBtYXJnaW4tdG9wOiAxMHB4O1xyXG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG59XHJcblxyXG4vKiBZb3UgY2FuIGFkanVzdCB0aGUgc3R5bGVzIGFzIG5lZWRlZCAqL1xyXG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"names":["EventEmitter","HttpEventType","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate1","ctx_r1","progress","ctx_r2","message","UploadImageComponent","constructor","http","productService","router","onUploadFinished","productName","uploadFile","files","name","length","fileToUpload","formData","FormData","append","PostImage","subscribe","next","event","type","UploadProgress","Math","round","loaded","total","Response","emit","body","navigate","error","err","console","log","ngOnInit","ɵɵdirectiveInject","i1","HttpClient","i2","ProductsService","i3","Router","selectors","inputs","outputs","decls","vars","consts","template","UploadImageComponent_Template","rf","ctx","ɵɵlistener","UploadImageComponent_Template_input_change_4_listener","ɵɵrestoreView","_r3","_r0","ɵɵreference","ɵɵresetView","UploadImageComponent_Template_button_click_6_listener","click","ɵɵtemplate","UploadImageComponent_span_9_Template","UploadImageComponent_span_10_Template","ɵɵproperty"],"sources":["C:\\angular\\gym-site\\src\\component\\upload-image\\upload-image.component.ts","C:\\angular\\gym-site\\src\\component\\upload-image\\upload-image.component.html"],"sourcesContent":["import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { ProductsService } from '../../Service/products/products.service';\r\nimport {  HttpClient, HttpEventType, HttpErrorResponse}from '@angular/common/http'\nimport { Router } from '@angular/router';\r\n\n@Component({\n  selector: 'app-upload-image',\n  templateUrl: './upload-image.component.html',\n  styleUrls: ['./upload-image.component.scss']\n})\nexport class UploadImageComponent implements OnInit {\n  progress!: number;\n  message!: string;\n  @Output() public onUploadFinished = new EventEmitter();\n  @Input() productName: string = '';\n  constructor(private http: HttpClient, private productService: ProductsService, private router: Router) { }\n  ngOnInit() { }\n\n\n  uploadFile = (files: any, name: string) => {\n    if (files.length === 0) {\n      return;\n    }\n    let fileToUpload = <File>files[0];\n    const formData = new FormData();\n    formData.append('file', fileToUpload, name + '.jpg');\n\n    this.productService.PostImage(formData).subscribe({\n      next: (event) => {\n        if (event.type === HttpEventType.UploadProgress)\n          this.progress = Math.round((100 * event.loaded) / event.total!);\n        else if (event.type === HttpEventType.Response) {\n          this.message = 'Upload success.';\n          this.onUploadFinished.emit(event.body);\n          this.router.navigate(['products-admin']);\n        }\n      },\n      error: (err: HttpErrorResponse) => console.log(err),\n    });\n  };\n}\n","<div class=\"mt-5\">\n  <div class=\"continer\">\n\n    <h3>photo upload</h3>\n    <input type=\"file\"\n           #file\n           placeholder=\"Choose file\"\n           (change)=\"uploadFile(file.files, productName)\"\n           style=\"display: none\" />\n\n    <button type=\"button\" class=\"btn btn-success\" (click)=\"file.click()\">Image</button>\n  </div>\n  <div class=\"col-md-4\">\n    <span class=\"upload\" *ngIf=\"progress > 0\"> {{ progress }}% </span>\n    <span class=\"upload\" *ngIf=\"message\">\n      {{ message }}\n    </span>\n  </div>\n</div>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}